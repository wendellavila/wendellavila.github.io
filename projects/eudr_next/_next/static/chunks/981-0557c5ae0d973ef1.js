(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[981],{3878:function(t,e,n){var a={"./translations_en.json":[3548,548],"./translations_pt.json":[157,157]};function o(t){if(!n.o(a,t))return Promise.resolve().then(function(){var e=Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e});var e=a[t],o=e[0];return n.e(e[1]).then(function(){return n.t(o,19)})}o.keys=function(){return Object.keys(a)},o.id=3878,t.exports=o},3244:function(t,e,n){"use strict";n.d(e,{E:function(){return a},t:function(){return o}});let a={locales:["en","pt"],defaultLocale:"en"};function o(t){return"pt"===t?n(7205):n(8568)}},1633:function(t,e,n){"use strict";n.d(e,{g$:function(){return r},sb:function(){return o},ub:function(){return a}});let a="Company Name",o="/projects/eudr_next",r={UNIDADES_CONSERVACAO:{image:"MMA.svg",url:"https://antigo.mma.gov.br/areas-protegidas/cadastro-nacional-de-ucs/mapas.html"},EMBARGO_IBAMA_DOCUMENT:{image:"IBAMA.svg",url:"https://www.gov.br/ibama/"},PRODES_ANY:{image:"PRODES.svg",url:"http://terrabrasilis.dpi.inpe.br/app/map/deforestation"},EMBARGO_IBAMA:{image:"IBAMA.svg",url:"https://www.gov.br/ibama/"},EMBARGO_ICMBIO_DOCUMENT:{image:"ICMBio.svg",url:"https://www.gov.br/icmbio/"},ALERTA_MAPBIOMAS:{image:"MapBiomas.svg",url:"https://alerta.mapbiomas.org/"},SITUACAO_CAR:{image:"CAR.svg",url:"https://car.gov.br"},EMBARGO_SEMA:{image:"SEMA-MT.svg",url:"http://www.sema.mt.gov.br/"},EMBARGO_SLAVERIES_DOCUMENT:{image:"MTE.svg",url:"https://www.gov.br/trabalho-e-emprego/pt-br/assuntos/inspecao-do-trabalho/areas-de-atuacao/cadastro_de_empregadores.pdf"},QUILOMBOS:{image:"INCRA.svg",url:"https://www.gov.br/incra/pt-br/assuntos/governanca-fundiaria/quilombolas"},TERRAS_INDIGENAS:{image:"FUNAI.svg",url:"https://www.gov.br/funai/pt-br/atuacao/terras-indigenas/geoprocessamento-e-mapas"},EMBARGO_SEMA_DOCUMENT:{image:"SEMA-MT.svg",url:"http://www.sema.mt.gov.br/"},EMBARGO_ICMBIO:{image:"ICMBio.svg",url:"https://www.gov.br/icmbio/"}}},1981:function(t,e,n){"use strict";n.d(e,{tw:function(){return _},r8:function(){return F},s9:function(){return k},eN:function(){return A},p6:function(){return R},cz:function(){return O},YU:function(){return U},c$:function(){return S},XF:function(){return N},BX:function(){return v},E6:function(){return C},Yv:function(){return B}});var a=n(8087),o=n(1438),r=n.n(o),i=n(3812),c=n.n(i),s=n(1633),l=n(3244);let u={vertical:"middle",horizontal:"left",wrapText:!0,shrinkToFit:!1,indent:0,readingOrder:"ltr",textRotation:0},d={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},p={bold:!0,color:{argb:"FFFFFFFF"}},g={type:"pattern",pattern:"solid",fgColor:{argb:"FF4F6525"}},f={type:"pattern",pattern:"solid",fgColor:{argb:"FF76933C"}},m={color:{argb:"FFDC2626"}},h={color:{argb:"FF16A34A"}},w={type:"pattern",pattern:"solid",fgColor:{argb:"FFF9F4F1"}},b={type:"pattern",pattern:"solid",fgColor:{argb:"FFF2E6DE"}};function v(t){return t.protocol.filter(t=>"HIGH"===t.status).length>0?"HIGH":"NO_ALERT"}function y(t){if("suppliers"in t){let e={type:"",features:[]};e.type="FeatureCollection";let n=[];return t.suppliers.forEach(t=>{e.features.push(y(t)),n=n.concat(t.coordinates)}),e.bbox=P(n),e}return"coordinates"in t?{type:"Feature",geometry:{type:"Polygon",coordinates:[t.coordinates]},bbox:P(t.coordinates),properties:{farmId:t.farmId,city:t.city,state:t.state,area:t.area}}:{type:"FeatureCollection",features:[]}}function M(t){return(t<10?"0":"")+t}function E(t,e){let n=new Date(null!=e?e:"");isNaN(n.getDate())&&(n=new Date);let a=n.getFullYear()+M(n.getMonth()+1)+M(n.getDate())+"_"+M(n.getHours())+M(n.getMinutes())+M(n.getSeconds()),o="";return"suppliers"in t?o="".concat(encodeURI(t.orderNumber.replace("/","-")),"_"):"coordinates"in t&&(o="".concat(encodeURI(t.farmId),"_")),"".concat(o).concat(a)}function I(t,e,n){let a=document.createElement("a");a.href=t,a.download="".concat(e,".").concat(n),a.click()}function k(t,e){let n=E(t,e),a=y(t);I("data:text/json;chatset=utf-8,".concat(encodeURIComponent(JSON.stringify(a))),n,"json")}function A(t,e){let n=E(t,e),a=y(t),o=c()(a);o=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"	",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\n",a="",o="",r=t.slice(1,-1).split(/>\s*</);"?"==r[0][0]&&(a+="<"+r.shift()+">"+n);for(let t=0;t<r.length;t++){let i=r[t];"/"==i[0]&&(o=o.slice(e.length)),a+=o+"<"+i+">"+n,"/"!=i[0]&&"/"!=i[i.length-1]&&-1==i.indexOf("</")&&(o+=e)}return a}(o),I(o="data:application/xml;chatset=utf-8,".concat(o),n,"kml")}async function F(t,e,n){let a=E(t,e),o=new(r()).Workbook;!function t(e){let n;let{data:a,workbook:o,i18n:r,lang:i,index:c}=e;if("suppliers"in a){let e=[r("geolocationPanel.farmId"),r("reportsPanel.status"),r("geolocationPanel.city"),r("geolocationPanel.state"),r("geolocationPanel.area"),r("geolocationPanel.coordinates"),"WKT"];(n=o.addWorksheet(encodeURI(a.orderNumber.replace("/","-")).slice(0,31))).columns=[{key:"farmId",header:e[0],width:50},{key:"status",header:e[1],width:15},{key:"city",header:e[2],width:35},{key:"state",header:e[3],width:8},{key:"area",header:e[4],width:15},{key:"coordinates",header:e[5],width:250},{key:"wkt",header:e[6],width:250}],n.duplicateRow(1,2,!0),n.getRow(1).values=["".concat(s.ub,"  -  ").concat(r("navbar.title"))],n.getRow(2).values=["".concat(r("orderDetails.orderNumber"),":  ").concat(a.orderNumber,"        ")+"".concat(r("orderDetails.date"),":  ").concat(R(a.orderDate),"       ")+"".concat(r("orderDetails.volume"),": ").concat(a.volume,"        ")+"".concat(r("orderDetails.supplierNumber"),": ").concat(a.suppliers.length)],n.mergeCells(1,1,1,7),n.mergeCells(2,1,2,7),a.suppliers.forEach((e,a)=>{var c;let s=r("reportsPanel.".concat("HIGH"===v(e)?"statusLocked":"statusUnlocked"));n.addRow({farmId:e.farmId,status:s,city:e.city,state:e.state,area:+e.area,coordinates:JSON.stringify(e.coordinates),wkt:(c=e.coordinates,"POLYGON((".concat(c.map(t=>"".concat(t[0]," ").concat(t[1])).join(", "),"))"))}),t({data:e,workbook:o,i18n:r,index:a+1,lang:i})})}else"coordinates"in a&&((n=o.addWorksheet(encodeURI("".concat(c?c+"-":"").concat(a.farmId)).slice(0,31))).columns=[{key:"id",header:r("reportsPanel.id"),width:40},{key:"status",header:r("reportsPanel.status"),width:15},{key:"name",header:r("reportsPanel.name"),width:50},{key:"institution",header:r("reportsPanel.institution"),width:50},{key:"details",header:r("reportsPanel.details"),width:90}],n.duplicateRow(1,2,!0),n.getRow(1).values=["".concat(s.ub,"  -  ").concat(r("navbar.title"))],n.getRow(2).values=["Farm Id:  ".concat(a.farmId)],n.mergeCells(1,1,1,5),n.mergeCells(2,1,2,5),a.protocol.forEach(t=>{var a;let o="HIGH"===t.status;n.addRow({id:t.type,status:r("reportsPanel.".concat(o?"statusLocked":"statusUnlocked")),name:r("reportsPanel.protocolItems.".concat(t.type,".name")),institution:r("reportsPanel.protocolItems.".concat(t.type,".institution")),details:(null!==(a=e.lang)&&void 0!==a?a:l.E.defaultLocale)==="pt"?t.details:r("reportsPanel.protocolItems.".concat(t.type,".").concat(o?"lockedDetails":"unlockedDetails"))+(o?' Original Details: "'.concat(t.details,'"'):"")})}));n&&function(t,e){t.eachRow({includeEmpty:!1},(t,n)=>{t.eachCell({includeEmpty:!1},(e,a)=>{e.border=d,e.alignment=u,n<=3?(t.height=25,e.font=p,n<=2?e.fill=g:3===n&&(e.fill=f)):n%2==0?e.fill=b:e.fill=w});let a=t.getCell("status");a.value===e("reportsPanel.statusUnlocked")&&(a.font=h),a.value===e("reportsPanel.statusLocked")&&(a.font=m)})}(n,e.i18n)}({data:t,workbook:o,i18n:await T(n,"reportPage.labels"),lang:n}),o.xlsx.writeBuffer().then(t=>{let e=new Blob([t],{type:"application/octet-stream"});I(URL.createObjectURL(e),a,"xlsx")})}function O(t){let e=new Date(t);if(isNaN(e.getDate()))return"";let n=M(e.getDate()),a=M(e.getMonth()+1),o=e.getFullYear(),r=M(e.getHours()),i=M(e.getMinutes()),c=M(e.getSeconds());return"".concat(n,"/").concat(a,"/").concat(o," ").concat(r,":").concat(i,":").concat(c)}function R(t){return"".concat(t.substring(6,8),"/").concat(t.substring(4,6),"/").concat(t.substring(0,4))}function C(t){t="#"!==t.substring(0,1)?"#".concat(t):t;let e=document.querySelector(t);null==e||e.scrollIntoView({behavior:"smooth",block:"start"})}function _(){return Number(new Date().toISOString().slice(0,10).replace(/-/g,""))}function N(t,e,n){let a=0;if(void 0!==n){var o;let t;o=Math.round(o=n),a=(t=1e4*Math.sin(o++))-Math.floor(t)}else a=Math.random();return Math.floor(a*(e-t))+t}function D(t){let e=Math.floor(t.length/2);return t.sort((t,e)=>t-e),t[e]}function P(t){let e=t.map(t=>t[0]),n=t.map(t=>t[1]);return[Math.min(...e),Math.min(...n),Math.max(...e),Math.max(...n)]}function S(t){let e=t.map(t=>t[0]),n=t.map(t=>t[1]);return[D(e),D(n)]}function B(t){return"number"==typeof t[0]?{lat:t[1],lng:t[0]}:t.map(t=>({lat:t[1],lng:t[0]}))}function U(){for(let t of navigator.languages){let e=t.substring(0,2);if(l.E.locales.includes(e))return e}return l.E.defaultLocale}async function x(t){return(await n(3878)("./translations_".concat(t,".json"))).default}async function T(t,e){return t||(t=l.E.defaultLocale),(0,a.createTranslator)({locale:t,messages:await x(t),namespace:e}).raw}}}]);