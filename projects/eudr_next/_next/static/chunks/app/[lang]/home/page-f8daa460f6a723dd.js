(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[958],{7632:function(e,a,s){Promise.resolve().then(s.bind(s,4116))},4116:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return ee}});var t=s(7437),l=s(2265),r=s(6463),n=s(8659),i=s(9229),o=s(2737),c=s.n(o),d=s(7824),m=s(8087),x=s(270),u=s(8433),f=s(511),h=s(487),p=s(9129),j=s(1981),g=s(3807),v=s(5268),w=s(7520),N=s(9424);function b(e){let{ordersData:a,minDate:s,maxDate:n,minVolume:i,maxVolume:o,searchText:c}=e,d=(0,r.useParams)().lang,b=(0,m.useTranslations)("homePage.labels.orders"),P=(0,l.useMemo)(()=>a?a.filter(e=>{let a=e.orderNumber.includes(null!=c?c:""),t=!s||parseInt(e.date)>=parseInt(s),l=!n||parseInt(e.date)<=parseInt(n),r=e.volume>=i&&e.volume<=o;return a&&t&&l&&r}):[],[a,s,n,i,o,c]);return(0,t.jsxs)(x.Z,{component:"section",id:"orders-list",children:[(0,t.jsx)(g.O,{title:b("title"),icon:(0,t.jsx)(p.I,{icon:"mingcute:ship-line",width:28,className:"mr-2"})}),(0,t.jsxs)(N.Y,{children:[(0,t.jsx)(u.ZP,{item:!0,xs:5,className:"px-2 flex flex-col justify-center",children:(0,t.jsx)(f.Z,{variant:"body2",className:"font-bold",children:b("orderNumber")})}),(0,t.jsx)(u.ZP,{item:!0,xs:4,className:"px-2 flex flex-col justify-center",children:(0,t.jsx)(f.Z,{variant:"body2",className:"font-bold",children:b("date")})}),(0,t.jsx)(u.ZP,{item:!0,xs:3,className:"px-2 flex flex-col justify-center",children:(0,t.jsx)(f.Z,{variant:"body2",className:"font-bold",children:b("volume")})})]}),P&&P.map(e=>{let a=new URLSearchParams;return a.set("oid",e.orderNumber),(0,t.jsx)(v.w,{href:"/".concat(d,"/report?").concat(a),children:(0,t.jsxs)(u.ZP,{container:!0,children:[(0,t.jsx)(u.ZP,{item:!0,xs:5,className:"px-2 flex flex-col justify-center",children:(0,t.jsx)(f.Z,{variant:"body2",children:e.orderNumber})}),(0,t.jsx)(u.ZP,{item:!0,xs:4,className:"px-2 flex flex-col justify-center",children:(0,t.jsx)(f.Z,{variant:"body2",children:(0,j.p6)(e.date)})}),(0,t.jsx)(u.ZP,{item:!0,xs:3,className:"px-2 flex flex-col justify-center",children:(0,t.jsx)(f.Z,{variant:"body2",children:e.volume})})]})},e.orderNumber)}),void 0===a&&(0,t.jsx)("article",{id:"orders-loading",className:"py-2",children:(0,t.jsxs)(u.ZP,{container:!0,children:[(0,t.jsx)(u.ZP,{item:!0,xs:5,className:"px-2 flex flex-col justify-center",children:(0,t.jsx)(f.Z,{variant:"body2",children:(0,t.jsx)(h.Z,{width:150})})}),(0,t.jsx)(u.ZP,{item:!0,xs:4,className:"px-2 flex flex-col justify-center",children:(0,t.jsx)(f.Z,{variant:"body2",children:(0,t.jsx)(h.Z,{width:100})})}),(0,t.jsx)(u.ZP,{item:!0,xs:3,className:"px-2 flex flex-col justify-center",children:(0,t.jsx)(f.Z,{variant:"body2",children:(0,t.jsx)(h.Z,{width:70})})})]})}),null===a&&(0,t.jsx)(w.Y,{id:"orders-error",message:b("noOrdersError"),type:"error"}),a&&a.length>0&&0===P.length&&(0,t.jsx)(w.Y,{id:"orders-filter-none",message:b("noFilteredOrdersAlert"),type:"alert"})]})}var P=s(2804),y=s(6548),Z=s(6858),Y=s(2326),D=s(6065),S=s(1236),M=s(3298),I=s(4952),C=s(146),k=s(5069),L=s(152),T=s(2030),V=s(3244),O=s(773);function E(e){let{minDate:a,maxDate:s,minDateLimit:n,maxDateLimit:i,minVolume:o,maxVolume:d,minVolumeLimit:x,maxVolumeLimit:f,searchText:h,setMinDate:j,setMaxDate:g,setMinVolume:v,setMaxVolume:w,setSearchText:N}=e,b=(0,P.Z)(O.r.breakpoints.down("lg")),E=(0,m.useTranslations)("homePage.labels.orders"),F=(0,r.useParams)().lang,[_,z]=(0,l.useState)(!b),A="pt"===F?L.F.components.MuiLocalizationProvider.defaultProps.localeText:T._.components.MuiLocalizationProvider.defaultProps.localeText;return(0,V.t)(F),(0,t.jsxs)("section",{id:"orders-list-filters",className:"py-2",children:[(0,t.jsx)("div",{className:"flex flex-row items-center justify-start",children:(0,t.jsxs)(y.Z,{className:"\n          flex flex-row items-center p-1 ".concat(_?"mb-1":"","\n          text-neutral-800 border-neutral-800"),onClick:()=>z(e=>!e),children:[(0,t.jsx)(p.I,{icon:"bi:filter",width:20}),(0,t.jsx)("span",{className:"ml-1",children:E(_?"hideFilters":"showFilters")})]})}),_&&(0,t.jsx)(I._,{dateAdapter:k.y,adapterLocale:F,localeText:A,children:(0,t.jsxs)(u.ZP,{container:!0,alignItems:"center",justifyContent:"space-evenly",columnSpacing:3,rowSpacing:2,className:"px-6 pt-3 pb-4",children:[(0,t.jsx)(u.ZP,{item:!0,xs:7,sm:4,md:3,children:(0,t.jsx)(Z.Z,{variant:"standard",label:E("searchOrderNumber"),value:h,InputProps:{startAdornment:(0,t.jsx)(Y.Z,{position:"start",children:(0,t.jsx)(p.I,{icon:"mdi:search",width:24})})},onChange:e=>N(e.target.value),className:"w-full"})}),(0,t.jsx)(u.ZP,{item:!0,xs:5,sm:3,md:2,children:(0,t.jsx)(C.M,{value:c()(a,"YYYYMMDD"),label:E("dateFrom"),format:"DD/MM/YYYY",defaultValue:void 0,onChange:e=>{e&&j(e.isValid()?e.format("YYYYMMDD"):"")},slotProps:{textField:{variant:"standard"},inputAdornment:{position:"start"}},className:"w-full"})}),(0,t.jsx)(u.ZP,{item:!0,xs:5,sm:3,md:2,children:(0,t.jsx)(C.M,{value:c()(s,"YYYYMMDD"),label:E("dateTo"),format:"DD/MM/YYYY",defaultValue:void 0,onChange:e=>{e&&g(e.isValid()?e.format("YYYYMMDD"):"")},slotProps:{textField:{variant:"standard"},inputAdornment:{position:"start"}},className:"w-full"})}),(0,t.jsxs)(u.ZP,{item:!0,xs:7,sm:5,md:3,children:[(0,t.jsx)(D.Z,{id:"volume-slider-label",shrink:!0,className:"leading-[1.2rem]",children:E("volume")}),(0,t.jsxs)("div",{className:"flex flex-row gap-4",children:[(0,t.jsx)(S.Z,{value:o,size:"small",onChange:e=>{let a=parseInt(e.target.value);v(isNaN(a)?x:a)},"aria-label":E("minVolume"),inputProps:{step:1,min:0,max:f,pattern:"[0-9]*"}}),(0,t.jsx)(M.ZP,{min:x,max:f,size:"medium",value:[o,d],onChange:(e,a)=>{v(a[0]),w(a[1])},valueLabelDisplay:"auto",getAriaLabel:()=>E("volumeRange"),getAriaValueText:()=>"".concat(E("min"),": ").concat(o," ").concat(E("max"),": ").concat(d)}),(0,t.jsx)(S.Z,{value:d,size:"small",onChange:e=>{let a=parseInt(e.target.value);w(isNaN(a)?f:a)},"aria-label":E("maxVolume"),inputProps:{step:1,min:0,max:f,pattern:"[0-9]*"}})]})]}),(0,t.jsx)(u.ZP,{item:!0,xs:12,sm:2,md:2,className:"flex flex-col items-center justify-center",children:(0,t.jsx)(y.Z,{className:"w-[150px]",variant:"outlined",onClick:()=>{v(x),w(f),j(n),g(i),N("")},children:E("clear")})})]})})]})}function F(){let[e,a]=(0,l.useState)(c()().format("YYYYMMDD")),[s,r]=(0,l.useState)(c()().format("YYYYMMDD")),[n,i]=(0,l.useState)(e),[o,m]=(0,l.useState)(s),[x,u]=(0,l.useState)(0),[f,h]=(0,l.useState)(0),[p,j]=(0,l.useState)(x),[g,v]=(0,l.useState)(f),[w,N]=(0,l.useState)(""),[P,y]=(0,l.useState)(void 0);return(0,l.useEffect)(()=>{y(d.l)},[]),(0,l.useEffect)(()=>{if(P&&P.length>0){let e=P[0].volume,s=P[0].volume,t=P[0].date,l=P[0].date;for(let a of P.slice(1))a.volume<e&&(e=a.volume),a.volume>s&&(s=a.volume),parseInt(a.date)>parseInt(l)&&(l=a.date),parseInt(a.date)<parseInt(t)&&(t=a.date);j(e),u(e),v(s),h(s),i(t),a(t),m(l),r(l)}},[P]),(0,t.jsx)("div",{className:"flex flex-col items-center px-4 h-full",children:(0,t.jsxs)("div",{className:"max-w-[1200px] w-full grow",children:[(0,t.jsx)(E,{minDate:n,maxDate:o,minDateLimit:e,maxDateLimit:s,minVolume:p,maxVolume:g,minVolumeLimit:x,maxVolumeLimit:f,searchText:w,setMinDate:i,setMaxDate:m,setMinVolume:j,setMaxVolume:v,setMaxVolumeLimit:h,setSearchText:N}),(0,t.jsx)(b,{ordersData:P,minDate:n,maxDate:o,minVolume:p,maxVolume:g,searchText:w})]})})}var _=s(6504),z=s(6648),A=s(8438),R=s(2184),q=s(5462),W=s(1807),X=s(7300),$=s(2179),H=s(7965),U=s(335),B=s(1326),G=s(1633);function J(e){let{isPasswordModalOpen:a,setPasswordModalOpen:s}=e,r=(0,m.useTranslations)("homePage.labels.changePasswordModal"),[n,i]=(0,l.useState)(""),[o,c]=(0,l.useState)(""),[d,u]=(0,l.useState)(""),h=()=>s(!1);return(0,t.jsx)(H.Z,{open:a,onClose:h,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",className:"flex flex-col items-center",children:(0,t.jsxs)(x.Z,{className:"relative p-4 m-8 max-w-[500px] min-w-[450px]",children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 p-1",children:(0,t.jsx)(U.Z,{onClick:h,children:(0,t.jsx)(p.I,{icon:"mdi:close",width:24})})}),(0,t.jsx)("div",{className:"flex flex-row justify-center",children:(0,t.jsx)(z.default,{width:66,height:43,src:"".concat(G.sb,"/logo.svg"),alt:"Logo",className:"inline w-auto h-[60px] my-4",priority:!0})}),(0,t.jsx)(f.Z,{id:"modal-modal-title",variant:"h6",component:"h2",className:"text-center",children:r("title")}),(0,t.jsxs)(B.Z,{component:"form",onSubmit:e=>{e.preventDefault();let a=new FormData(e.currentTarget);console.log({currentPassword:a.get("currentPassword"),newPassword:a.get("newPassword"),repeatNewPassword:a.get("repeatNewPassword")})},children:[(0,t.jsx)(Z.Z,{required:!0,fullWidth:!0,id:"currentPassword",name:"currentPassword",label:r("currentPassword"),type:"password",variant:"outlined",margin:"normal",onChange:e=>i(e.target.value)}),(0,t.jsx)(Z.Z,{required:!0,fullWidth:!0,id:"newPassword",name:"newPassword",label:r("newPassword"),type:"password",variant:"outlined",margin:"normal",onChange:e=>c(e.target.value)}),(0,t.jsx)(Z.Z,{required:!0,fullWidth:!0,id:"repeatNewPassword",name:"repeatNewPassword",label:r("repeatNewPassword"),type:"password",variant:"outlined",margin:"normal",onChange:e=>u(e.target.value)}),(0,t.jsx)("div",{className:"flex flex-row justify-center mt-6",children:(0,t.jsx)(y.Z,{variant:"contained",type:"submit",className:"min-w-[120px]",disabled:n.length<8||o.length<8||o!==d,children:r("confirm")})})]})]})})}function K(e){let{customerName:a,isDrawerOpen:s,setDrawerOpen:n}=e,i=(0,m.useTranslations)("homePage.labels.drawer"),o=(0,r.useRouter)(),c=(0,r.useParams)().lang,[d,x]=(0,l.useState)(!1),u=async()=>{n(!1),setTimeout(()=>x(!0),200)};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(A.ZP,{open:s,onClose:()=>n(!1),children:(0,t.jsxs)(R.Z,{className:"w-[350px] h-full flex flex-col py-0",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center pt-7 pb-6 justify-center relative bg-primary",children:[(0,t.jsx)(z.default,{src:"".concat(G.sb,"/cafe-grao.jpg"),alt:"Logo",fill:!0,sizes:"350px",className:"object-cover"}),(0,t.jsx)("div",{className:"bg-yellow-900/25 w-full h-full absolute top-0 left-0"}),(0,t.jsx)("div",{className:"bg-black/25 w-full h-full absolute top-0 left-0"}),(0,t.jsx)(q.Z,{alt:"Customer Logo",className:"h-[100px] w-[100px] border-1 border-solid shadow-sm border-white"}),(0,t.jsx)(f.Z,{variant:"h5",className:"text-center pt-4 drop-shadow-sm text-white",children:a})]}),(0,t.jsxs)("nav",{className:"flex flex-col justify-center mt-4",children:[(0,t.jsx)(W.ZP,{className:"p-0",onClick:u,children:(0,t.jsxs)(X.Z,{className:"py-4 px-6 flex flex-row justify-center",children:[(0,t.jsx)(p.I,{icon:"mdi:password-outline",width:20,className:"mr-2"}),i("changePassword")]})}),(0,t.jsx)(W.ZP,{className:"p-0",onClick:()=>{localStorage.removeItem("token"),sessionStorage.removeItem("token"),o.replace("/".concat(c))},children:(0,t.jsxs)(X.Z,{className:"py-4 px-6 flex flex-row justify-center",children:[(0,t.jsx)(p.I,{icon:"material-symbols:exit-to-app",width:20,className:"mr-2"}),i("logout")]})})]}),(0,t.jsx)("div",{className:"grow"}),(0,t.jsx)("div",{className:"px-4 pb-4 flex flex-row justify-center mt-4",children:(0,t.jsx)($.$,{})})]})}),(0,t.jsx)(J,{isPasswordModalOpen:d,setPasswordModalOpen:x})]})}function Q(e){let{customerName:a}=e,s=(0,m.useTranslations)("homePage.labels.navbar"),[r,n]=(0,l.useState)(!1);return(0,t.jsx)(_.w,{drawer:(0,t.jsx)(K,{customerName:a,isDrawerOpen:r,setDrawerOpen:n}),setDrawerOpen:n,i18n:s})}function ee(){let[e,a]=(0,l.useState)(null),s=(0,r.useRouter)(),o=(0,r.useParams)().lang;return(0,l.useEffect)(()=>{var e;let t=null!==(e=localStorage.getItem("token"))&&void 0!==e?e:sessionStorage.getItem("token");t?a(t):s.replace("/".concat(o))},[o,e,s]),e?(0,t.jsxs)("div",{className:"flex flex-col h-[100vh] bg-surface",children:[(0,t.jsx)(Q,{customerName:"Customer Name"}),(0,t.jsx)("main",{className:"grow",children:(0,t.jsxs)("div",{className:"flex flex-col h-full",children:[(0,t.jsx)("div",{className:"grow",children:(0,t.jsx)(F,{})}),(0,t.jsx)(i.m,{className:"mt-4 mb-2"})]})})]}):(0,t.jsx)(n.LoadingScreen,{id:"orders-loading"})}},2179:function(e,a,s){"use strict";s.d(a,{$:function(){return m}});var t=s(7437),l=s(2265),r=s(6463),n=s(8087),i=s(4893),o=s(1651),c=s(9129),d=s(1633);function m(){let e=(0,r.useRouter)(),a=(0,n.useLocale)(),s=(0,r.usePathname)(),m=[{lang:"en",name:"English",icon:"flagpack:gb-ukm"},{lang:"pt",name:"Portugu\xeas",icon:"flagpack:br"}],[x,u]=(0,l.useState)(!1);return(0,l.useEffect)(()=>u(!0),[]),x?(0,t.jsx)(i.Z,{name:"language",variant:"outlined",size:"small",value:a,onChange:a=>{s="/".concat(a.target.value,"/").concat(s.substring(4)),a.preventDefault(),localStorage.setItem("lang",a.target.value),e.push(s)},children:m.map((e,a)=>(0,t.jsxs)(o.Z,{value:e.lang,children:[(0,t.jsx)(c.I,{icon:e.icon,width:20,className:"mr-2"}),e.name]},a))}):(0,t.jsx)("nav",{className:"flex flex-col items-center gap-y-2 px-3 py-2  border border-solid rounded border-gray-300 animate-fade animate-delay-1000",children:m.map((e,a)=>(0,t.jsxs)("a",{href:"".concat(d.X8,"/").concat(e.lang,"/").concat(s.substring(4)),className:"flex flex-row justify-center flex-wrap no-underline hover:underline text-foreground",children:[(0,t.jsx)(c.I,{icon:e.icon,width:20,className:"mr-1"}),e.name]},a))})}},8659:function(e,a,s){"use strict";s.d(a,{LoadingScreen:function(){return d}});var t=s(7437),l=s(6648),r=s(9129),n=s(3244),i=s(6463),o=s(1633),c=s(8087);function d(e){let a=(0,i.useRouter)(),s=(0,i.useParams)().lang,d=(0,c.useTranslations)("loadingScreen.labels"),{id:m}=e;return(0,t.jsxs)("section",{id:m,className:"bg-white min-h-[100vh] flex flex-col items-center justify-center",children:[(0,t.jsx)(l.default,{width:100,height:65,src:"".concat(o.sb,"/logo.svg"),alt:"Logo",className:"mb-10 w-auto h-[100px]",priority:!0}),(0,t.jsx)(r.I,{icon:"svg-spinners:3-dots-fade",width:40,className:"text-tertiary"}),(0,t.jsxs)("p",{className:"text-sm absolute bottom-3 animate-fade animate-delay-1000",children:["".concat(d("notRedirected")," "),(0,t.jsx)("a",{href:"".concat(o.X8,"/").concat(s,"/"),className:"underline text-primary",onClick:e=>{e.preventDefault(),a.replace("/".concat(n.E.defaultLocale))},children:d("clickHere")})," ".concat(d("goToFrontPage"))]})]})}}},function(e){e.O(0,[543,113,230,4,930,709,251,368,61,981,570,971,23,744],function(){return e(e.s=7632)}),_N_E=e.O()}]);